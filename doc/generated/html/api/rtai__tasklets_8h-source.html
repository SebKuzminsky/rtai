<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTAI API: base/include/rtai_tasklets.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">base</a>&nbsp;/&nbsp;<a class="el" href="dir_000015.html">include</a></div>
<h1>rtai_tasklets.h</h1><a href="rtai__tasklets_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00026 <span class="preprocessor">#ifndef _RTAI_TASKLETS_H</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define _RTAI_TASKLETS_H</span>
00028 <span class="preprocessor"></span>
00033 <span class="preprocessor">#include &lt;rtai_types.h&gt;</span>
00034 
00035 <span class="preprocessor">#define TSKIDX  1</span>
00036 <span class="preprocessor"></span>
00037 <span class="preprocessor">#define INIT             0</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#define DELETE           1</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define TASK_INSERT      2</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#define TASK_REMOVE      3</span>
00041 <span class="preprocessor"></span><span class="preprocessor">#define USE_FPU          4</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#define TIMER_INSERT     5</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#define TIMER_REMOVE     6</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#define SET_TASKLETS_PRI 7</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#define SET_FIR_TIM      8      </span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define SET_PER          9</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define SET_HDL         10</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#define SET_DAT         11</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define EXEC_TASKLET    12</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#define WAIT_IS_HARD    13</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#define SET_TSK_PRI     14</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#define REG_TASK        15</span>
00053 <span class="preprocessor"></span>
00054 <span class="keyword">struct </span>rt_task_struct;
00055 
00056 <span class="keyword">struct </span>rt_tasklet_struct {
00057 
00058     <span class="keyword">struct </span>rt_tasklet_struct *next, *prev;
00059     <span class="keywordtype">int</span> priority, uses_fpu;
00060     RTIME firing_time, period;
00061     void (*handler)(<span class="keywordtype">unsigned</span> long);
00062     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data, id;
00063     <span class="keywordtype">int</span> thread;
00064     <span class="keyword">struct </span>rt_task_struct *task;
00065     <span class="keyword">struct </span>rt_tasklet_struct *usptasklet;
00066 };
00067 
00068 <span class="preprocessor">#define TASKLET_STACK_SIZE  8196</span>
00069 <span class="preprocessor"></span>
00070 <span class="preprocessor">#ifdef __KERNEL__</span>
00071 <span class="preprocessor"></span>
00072 <span class="preprocessor">#ifdef __cplusplus</span>
00073 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00074 <span class="preprocessor">#endif </span><span class="comment">/* !__cplusplus */</span>
00075 
00076 <span class="keywordtype">int</span> __rtai_tasklets_init(<span class="keywordtype">void</span>);
00077 
00078 <span class="keywordtype">void</span> __rtai_tasklets_exit(<span class="keywordtype">void</span>);
00079 
00080 <span class="keyword">struct </span>rt_tasklet_struct *<a class="code" href="group__tasklets.html#ga9">rt_init_tasklet</a>(<span class="keywordtype">void</span>);
00081 
00082 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#ga10">rt_delete_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00083 
00084 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#ga19">rt_insert_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00085                       <span class="keywordtype">int</span> priority,
00086                       <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00087                       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00088                       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">id</span>,
00089                       <span class="keywordtype">int</span> pid);
00090 
00091 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#ga21">rt_remove_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00092 
00093 <span class="keyword">struct </span>rt_tasklet_struct *<a class="code" href="group__tasklets.html#ga25">rt_find_tasklet_by_id</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">id</span>);
00094 
00095 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#ga22">rt_exec_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00096 
00097 <span class="keywordtype">void</span> rt_set_tasklet_priority(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00098                              <span class="keywordtype">int</span> priority);
00099 
00100 <span class="keywordtype">int</span> rt_set_tasklet_handler(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00101                            <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>));
00102 
00103 <span class="preprocessor">#define rt_fast_set_tasklet_handler(t, h) do { (t)-&gt;handler = (h); } while (0)</span>
00104 <span class="preprocessor"></span>
00105 <span class="keywordtype">void</span> rt_set_tasklet_data(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00106                          <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data);
00107 
00108 <span class="preprocessor">#define rt_fast_set_tasklet_data(t, d) \</span>
00109 <span class="preprocessor">do { \</span>
00110 <span class="preprocessor">   (t)-&gt;data = (d); \</span>
00111 <span class="preprocessor">} while (0)</span>
00112 <span class="preprocessor"></span>
00135 <span class="keyword">struct </span>rt_task_struct *rt_tasklet_use_fpu(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00136                                           <span class="keywordtype">int</span> use_fpu);
00137 
00154 <span class="preprocessor">#define rt_init_timer rt_init_tasklet </span>
00155 <span class="preprocessor"></span>
00172 <span class="preprocessor">#define rt_delete_timer rt_delete_tasklet</span>
00173 <span class="preprocessor"></span>
00174 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#ga11">rt_insert_timer</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00175                     <span class="keywordtype">int</span> priority,
00176                     RTIME firing_time,
00177                     RTIME period,
00178                     <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00179                     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00180                     <span class="keywordtype">int</span> pid);
00181 
00182 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#ga12">rt_remove_timer</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer);
00183 
00184 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#ga13">rt_set_timer_priority</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00185                            <span class="keywordtype">int</span> priority);
00186 
00187 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#ga14">rt_set_timer_firing_time</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00188                               RTIME firing_time);
00189 
00190 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#ga15">rt_set_timer_period</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00191                          RTIME period);
00192 
00193 <span class="preprocessor">#define rt_fast_set_timer_period(t, p) \</span>
00194 <span class="preprocessor">do { \</span>
00195 <span class="preprocessor">   (t)-&gt;period = (p); \</span>
00196 <span class="preprocessor">} while (0)</span>
00197 <span class="preprocessor"></span>
00221 <span class="preprocessor">#define rt_set_timer_handler rt_set_tasklet_handler</span>
00222 <span class="preprocessor"></span>
00223 <span class="preprocessor">#define rt_fast_set_timer_handler(t, h) do { (t)-&gt;handler = (h); } while (0)</span>
00224 <span class="preprocessor"></span>
00247 <span class="preprocessor">#define rt_set_timer_data rt_set_tasklet_data</span>
00248 <span class="preprocessor"></span>
00249 <span class="preprocessor">#define rt_fast_set_timer_data(t, d) do { (t)-&gt;data = (d); } while (0)</span>
00250 <span class="preprocessor"></span>
00251 <span class="preprocessor">#define rt_timer_use_fpu rt_tasklet_use_fpu</span>
00252 <span class="preprocessor"></span>
00253 <span class="keywordtype">void</span> rt_wait_tasklet_is_hard(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00254                              <span class="keywordtype">int</span> thread);
00255 
00256 <span class="keywordtype">void</span> rt_register_task(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00257                       <span class="keyword">struct</span> rt_tasklet_struct *usptasklet,
00258                       <span class="keyword">struct</span> rt_task_struct *task);
00259  
00260 <span class="preprocessor">#ifdef __cplusplus</span>
00261 <span class="preprocessor"></span>}
00262 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00263 
00264 <span class="preprocessor">#else </span><span class="comment">/* !__KERNEL__ */</span>
00265 
00266 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00267 <span class="preprocessor">#include &lt;sys/wait.h&gt;</span>
00268 <span class="preprocessor">#include &lt;sys/mman.h&gt;</span>
00269 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00270 <span class="preprocessor">#include &lt;<a class="code" href="rtai__lxrt_8h.html">rtai_lxrt.h</a>&gt;</span>
00271 
00272 <span class="preprocessor">#ifndef __SUPPORT_TASKLET__</span>
00273 <span class="preprocessor"></span><span class="preprocessor">#define __SUPPORT_TASKLET__</span>
00274 <span class="preprocessor"></span>
00275 <span class="keyword">static</span> <span class="keywordtype">int</span> support_tasklet(<span class="keywordtype">void</span> *tasklet)
00276 {
00277         RT_TASK *task;
00278         <span class="keyword">struct </span>rt_tasklet_struct usptasklet;
00279         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">void</span> *handler; } arg = { tasklet, };
00280 
00281         <span class="keywordflow">if</span> (!(task = rt_thread_init((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)arg.tasklet, 98, 0, SCHED_FIFO, 0xF))) {
00282                 printf(<span class="stringliteral">"CANNOT INIT SUPPORT TASKLET\n"</span>);
00283                 <span class="keywordflow">return</span> -1;
00284         } <span class="keywordflow">else</span> {
00285                 <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet, *usptasklet; RT_TASK *task; } reg = { arg.tasklet, &amp;usptasklet, task };
00286                 rtai_lxrt(TSKIDX, <span class="keyword">sizeof</span>(reg), REG_TASK, &amp;reg);
00287         }
00288 
00289         mlockall(MCL_CURRENT | MCL_FUTURE);
00290         <a class="code" href="group__lxrt.html#ga73">rt_make_hard_real_time</a>();
00291         <span class="keywordflow">while</span> (1) {
00292                 <a class="code" href="api_8c.html#a14">rt_task_suspend</a>(task);
00293                 <span class="keywordflow">if</span> ((arg.handler = (<span class="keywordtype">void</span>*)usptasklet.handler)) {
00294                         rtai_lxrt(TSKIDX, SIZARG, SET_HDL, &amp;arg);
00295                         usptasklet.handler(usptasklet.data);
00296                 } <span class="keywordflow">else</span> {
00297                         <span class="keywordflow">break</span>;
00298                 }
00299         }
00300         <a class="code" href="group__lxrt.html#ga9">rt_make_soft_real_time</a>();
00301         rt_task_delete(task);
00302 
00303         <span class="keywordflow">return</span> 0;
00304 }
00305 <span class="preprocessor">#endif </span><span class="comment">/* __SUPPORT_TASKLET__ */</span>
00306 
00307 <span class="preprocessor">#ifdef __cplusplus</span>
00308 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00309 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00310 
<a name="l00311"></a><a class="code" href="group__tasklets.html#ga9">00311</a> RTAI_PROTO(<span class="keyword">struct</span> rt_tasklet_struct *, rt_init_tasklet,(<span class="keywordtype">void</span>))
00312 {
00313         <span class="keyword">struct </span>{ <span class="keywordtype">void</span> *tasklet; <span class="keywordtype">int</span> thread; } arg;
00314 
00315         arg.tasklet = (<span class="keyword">struct </span>rt_tasklet_struct*)rtai_lxrt(TSKIDX, SIZARG, INIT, &amp;arg).v[LOW];
00316         arg.thread = rt_thread_create(support_tasklet, arg.tasklet, TASKLET_STACK_SIZE);
00317 <span class="comment">//      arg.thread = clone(support_tasklet, sp + TASKLET_STACK_SIZE - 1, CLONE_VM | CLONE_FS | CLONE_FILES, arg.tasklet);</span>
00318         rtai_lxrt(TSKIDX, SIZARG, WAIT_IS_HARD, &amp;arg);
00319 
00320         <span class="keywordflow">return</span> arg.tasklet;
00321 }
00322 
00323 <span class="preprocessor">#define rt_init_timer rt_init_tasklet</span>
00324 <span class="preprocessor"></span>
<a name="l00325"></a><a class="code" href="group__tasklets.html#ga10">00325</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_delete_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00326 {
00327         <span class="keywordtype">int</span> thread;
00328         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00329         <span class="keywordflow">if</span> ((thread = rtai_lxrt(TSKIDX, SIZARG, DELETE, &amp;arg).i[LOW])) {
00330                 rt_thread_join(thread);
00331         }
00332 }
00333 
00334 <span class="preprocessor">#define rt_delete_timer rt_delete_tasklet</span>
00335 <span class="preprocessor"></span>
00336 RTAI_PROTO(<span class="keywordtype">int</span>, rt_insert_timer,(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00337                                  <span class="keywordtype">int</span> priority,
00338                                  RTIME firing_time,
00339                                  RTIME period,
00340                                  <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00341                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
<a name="l00342"></a><a class="code" href="group__tasklets.html#ga11">00342</a>                                  <span class="keywordtype">int</span> pid))
00343 {
00344         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; <span class="keywordtype">int</span> priority; RTIME firing_time;
00345             RTIME period; void (*handler)(<span class="keywordtype">unsigned</span> long); <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; <span class="keywordtype">int</span> pid; } arg =
00346                 { timer, priority, firing_time, period, handler, data, pid };
00347         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, TIMER_INSERT, &amp;arg).i[LOW];
00348 }
00349 
<a name="l00350"></a><a class="code" href="group__tasklets.html#ga12">00350</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_remove_timer,(<span class="keyword">struct</span> rt_tasklet_struct *timer))
00351 {
00352         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; } arg = { timer };
00353         rtai_lxrt(TSKIDX, SIZARG, TIMER_REMOVE, &amp;arg);
00354 }
00355 
<a name="l00356"></a><a class="code" href="group__tasklets.html#ga13">00356</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_priority,(<span class="keyword">struct</span> rt_tasklet_struct *timer, <span class="keywordtype">int</span> priority))
00357 {
00358         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; <span class="keywordtype">int</span> priority; } arg = { timer, priority };
00359         rtai_lxrt(TSKIDX, SIZARG, SET_TASKLETS_PRI, &amp;arg);
00360 }
00361 
<a name="l00362"></a><a class="code" href="group__tasklets.html#ga14">00362</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_firing_time,(<span class="keyword">struct</span> rt_tasklet_struct *timer, RTIME firing_time))
00363 {
00364         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; RTIME firing_time; } arg = { timer, firing_time };
00365         rtai_lxrt(TSKIDX, SIZARG, SET_FIR_TIM, &amp;arg);
00366 }
00367 
<a name="l00368"></a><a class="code" href="group__tasklets.html#ga15">00368</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_period,(<span class="keyword">struct</span> rt_tasklet_struct *timer, RTIME period))
00369 {
00370         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; RTIME period; } arg = { timer, period };
00371         rtai_lxrt(TSKIDX, SIZARG, SET_PER, &amp;arg);
00372 }
00373 
00374 RTAI_PROTO(<span class="keywordtype">int</span>, rt_set_tasklet_handler,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)))
00375 {
00376         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; void (*handler)(<span class="keywordtype">unsigned</span> long); } arg = { tasklet, handler };
00377         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, SET_HDL, &amp;arg).i[LOW];
00378 }
00379 
00380 <span class="preprocessor">#define rt_set_timer_handler rt_set_tasklet_handler</span>
00381 <span class="preprocessor"></span>
00382 RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_tasklet_data,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data))
00383 {
00384         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; } arg = { tasklet, data };
00385         rtai_lxrt(TSKIDX, SIZARG, SET_DAT, &amp;arg);
00386 }
00387 
00388 <span class="preprocessor">#define rt_set_timer_data rt_set_tasklet_data</span>
00389 <span class="preprocessor"></span>
00390 RTAI_PROTO(RT_TASK *, rt_tasklet_use_fpu,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">int</span> use_fpu))
00391 {
00392         RT_TASK *task;
00393         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> use_fpu; } arg = { tasklet, use_fpu };
00394         <span class="keywordflow">if</span> ((task = (RT_TASK*)rtai_lxrt(TSKIDX, SIZARG, USE_FPU, &amp;arg).v[LOW])) {
00395                 <a class="code" href="api_8c.html#a21">rt_task_use_fpu</a>(task, use_fpu);
00396         }
00397         <span class="keywordflow">return</span> task;
00398 }
00399 
00400 <span class="preprocessor">#define rt_timer_use_fpu rt_tasklet_use_fpu</span>
00401 <span class="preprocessor"></span>
00402 RTAI_PROTO(<span class="keywordtype">int</span>, rt_insert_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00403                                    <span class="keywordtype">int</span> priority,
00404                                    <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00405                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00406                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">id</span>,
<a name="l00407"></a><a class="code" href="group__tasklets.html#ga19">00407</a>                                    <span class="keywordtype">int</span> pid))
00408 {
00409         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> priority; void (*handler)(<span class="keywordtype">unsigned</span> long);
00410             <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id; <span class="keywordtype">int</span> pid; } arg = { tasklet, priority, handler, data, id, pid };
00411         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, TASK_INSERT, &amp;arg).i[LOW];
00412 }
00413 
00414 RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_tasklet_priority,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">int</span> priority))
00415 {
00416         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> priority; } arg = { tasklet, priority };
00417         rtai_lxrt(TSKIDX, SIZARG, SET_TSK_PRI, &amp;arg);
00418 }
00419 
<a name="l00420"></a><a class="code" href="group__tasklets.html#ga21">00420</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_remove_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00421 {
00422         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00423         rtai_lxrt(TSKIDX, SIZARG, TASK_REMOVE, &amp;arg);
00424 }
00425 
<a name="l00426"></a><a class="code" href="group__tasklets.html#ga22">00426</a> RTAI_PROTO(<span class="keywordtype">int</span>, rt_exec_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00427 {
00428         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00429         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, EXEC_TASKLET, &amp;arg).i[LOW];
00430 }
00431 
00432 <span class="preprocessor">#ifdef __cplusplus</span>
00433 <span class="preprocessor"></span>}
00434 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00435 
00436 <span class="preprocessor">#endif </span><span class="comment">/* __KERNEL__ */</span>
00437 
00440 <span class="preprocessor">#endif </span><span class="comment">/* !_RTAI_TASKLETS_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 18 22:53:52 2005 for RTAI API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
