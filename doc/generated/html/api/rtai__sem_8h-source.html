<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTAI API: base/include/rtai_sem.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">base</a>&nbsp;/&nbsp;<a class="el" href="dir_000015.html">include</a></div>
<h1>rtai_sem.h</h1><a href="rtai__sem_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00024 <span class="preprocessor">#ifndef _RTAI_SEM_H</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#define _RTAI_SEM_H</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#include &lt;rtai_types.h&gt;</span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="rtai__nam2num_8h.html">rtai_nam2num.h</a>&gt;</span>
00029 <span class="preprocessor">#include &lt;rtai_sched.h&gt;</span>
00030 
00031 <span class="preprocessor">#define RT_SEM_MAGIC 0xaabcdeff</span>
00032 <span class="preprocessor"></span>
00033 <span class="preprocessor">#define SEM_TIMOUT (0xFffe)</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#define SEM_ERR (0xFfff)</span>
00036 <span class="preprocessor"></span>
00037 <span class="preprocessor">#if defined(__KERNEL__) &amp;&amp; !defined(__cplusplus)</span>
00038 <span class="preprocessor"></span>
00039 <span class="keyword">typedef</span> <span class="keyword">struct </span>rt_semaphore {
00040     <span class="keyword">struct </span>rt_queue queue; <span class="comment">/* &lt;= Must be first in struct. */</span>
00041     <span class="keywordtype">int</span> magic;
00042     <span class="keywordtype">int</span> type;
00043     <span class="keywordtype">int</span> count;
00044     <span class="keyword">struct </span>rt_task_struct *owndby;
00045     <span class="keywordtype">int</span> qtype;
00046 } SEM;
00047 
00048 <span class="preprocessor">#else </span><span class="comment">/* !__KERNEL__ || __cplusplus */</span>
00049 
00050 <span class="keyword">typedef</span> <span class="keyword">struct </span>rt_semaphore {
00051     <span class="keywordtype">int</span> opaque;
00052 } SEM;
00053 
00054 <span class="preprocessor">#endif </span><span class="comment">/* __KERNEL__ &amp;&amp; !__cplusplus */</span>
00055 
00056 <span class="keyword">typedef</span> SEM CND;
00057 
00058 <span class="preprocessor">#ifdef __KERNEL__</span>
00059 <span class="preprocessor"></span>
00060 <span class="preprocessor">#include &lt;linux/errno.h&gt;</span>
00061 
00062 <span class="keyword">typedef</span> SEM psem_t;
00063 
00064 <span class="keyword">typedef</span> SEM pmutex_t;
00065 
00066 <span class="preprocessor">#ifdef __cplusplus</span>
00067 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00068 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00069 
00070 <span class="keywordtype">int</span> __rtai_sem_init(<span class="keywordtype">void</span>);
00071 
00072 <span class="keywordtype">void</span> __rtai_sem_exit(<span class="keywordtype">void</span>);
00073 
00074 <span class="keywordtype">void</span> <a class="code" href="group__sem.html#ga2">rt_typed_sem_init</a>(SEM *sem,
00075                        <span class="keywordtype">int</span> value,
00076                        <span class="keywordtype">int</span> type);
00077 
00078 SEM *<a class="code" href="group__sem.html#ga35">_rt_typed_named_sem_init</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> sem_name,
00079                              <span class="keywordtype">int</span> value,
00080                              <span class="keywordtype">int</span> type);
00081 
00082 <span class="keyword">static</span> <span class="keyword">inline</span> SEM *rt_typed_named_sem_init(<span class="keyword">const</span> <span class="keywordtype">char</span> *sem_name,
00083                                            <span class="keywordtype">int</span> value,
00084                                            <span class="keywordtype">int</span> type) {
00085     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga35">_rt_typed_named_sem_init</a>(<a class="code" href="rtai__nam2num_8h.html#a0">nam2num</a>(sem_name), value, type);
00086 }
00087 
00088 <span class="keywordtype">void</span> <a class="code" href="group__lxrt.html#ga382">rt_sem_init</a>(SEM *sem,
00089                  <span class="keywordtype">int</span> value);
00090 
00091 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga4">rt_sem_delete</a>(SEM *sem);
00092 
00093 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(SEM *sem);
00094 
00095 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga7">rt_sem_broadcast</a>(SEM *sem);
00096 
00097 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga8">rt_sem_wait</a>(SEM *sem);
00098 
00099 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(SEM *sem);
00100 
00101 <span class="keywordtype">int</span> rt_cntsem_wait_if_and_lock(SEM *sem);
00102 
00103 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga10">rt_sem_wait_until</a>(SEM *sem,
00104                       RTIME time);
00105 
00106 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga11">rt_sem_wait_timed</a>(SEM *sem,
00107                       RTIME delay);
00108 
00109 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga12">rt_sem_wait_barrier</a>(SEM *sem);
00110 
00111 <span class="keywordtype">int</span> rt_sem_count(SEM *sem);
00112 
00113 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga13">rt_cond_signal</a>(CND *cnd);
00114 
00115 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga15">rt_cond_wait</a>(CND *cnd,
00116                  SEM *mtx);
00117 
00118 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga16">rt_cond_wait_until</a>(CND *cnd,
00119                        SEM *mtx,
00120                        RTIME time);
00121 
00122 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga17">rt_cond_wait_timed</a>(CND *cnd,
00123                        SEM *mtx,
00124                        RTIME delay);
00125 
00126 <span class="preprocessor">#define rt_named_sem_init(sem_name, value)  rt_typed_named_sem_init(sem_name, value, CNT_SEM)</span>
00127 <span class="preprocessor"></span>
00128 <span class="keywordtype">int</span> <a class="code" href="group__sem.html#ga36">rt_named_sem_delete</a>(SEM *sem);
00129 
00130 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_init(psem_t *sem, <span class="keywordtype">int</span> pshared, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value)
00131 {
00132         <span class="keywordflow">if</span> (value &lt; SEM_TIMOUT) {
00133                 <a class="code" href="group__sem.html#ga2">rt_typed_sem_init</a>(sem, value, pshared | PRIO_Q);
00134                 <span class="keywordflow">return</span> 0;
00135         }
00136         <span class="keywordflow">return</span> -EINVAL;
00137 }
00138 
00139 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_destroy(psem_t *sem)
00140 {
00141         <span class="keywordflow">if</span> (<a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(sem) &gt;= 0) {
00142                 <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(sem);
00143                 <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga4">rt_sem_delete</a>(sem);
00144         }
00145         <span class="keywordflow">return</span> -EBUSY;
00146 }
00147 
00148 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_wait(psem_t *sem) {
00149     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga8">rt_sem_wait</a>(sem) &lt; SEM_TIMOUT ? 0 : -1;
00150 }
00151 
00152 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_timedwait(psem_t *sem, <span class="keyword">struct</span> timespec *abstime) {
00153     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga10">rt_sem_wait_until</a>(sem, timespec2count(abstime)) &lt; SEM_TIMOUT ? 0 : -1;
00154 }
00155 
00156 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_trywait(psem_t *sem) {
00157     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(sem) &gt; 0 ? 0 : -EAGAIN;
00158 }
00159 
00160 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_post(psem_t *sem) {
00161     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(sem);
00162 }
00163 
00164 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_psem_getvalue(psem_t *sem, <span class="keywordtype">int</span> *sval)
00165 {
00166         <span class="keywordflow">if</span> ((*sval = <a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(sem)) &gt; 0) {
00167                 <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(sem);
00168         }
00169         <span class="keywordflow">return</span> 0;
00170 }
00171 
00172 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_init(pmutex_t *mutex, <span class="keywordtype">void</span> *mutexattr)
00173 {
00174         <a class="code" href="group__sem.html#ga2">rt_typed_sem_init</a>(mutex, 1, RES_SEM);
00175         <span class="keywordflow">return</span> 0;
00176 }
00177 
00178 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_destroy(pmutex_t *mutex)
00179 {
00180         <span class="keywordflow">if</span> (<a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(mutex) &gt; 0) {
00181                 <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(mutex);
00182                 <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga4">rt_sem_delete</a>(mutex);
00183         }
00184         <span class="keywordflow">return</span> -EBUSY;
00185 }
00186 
00187 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_lock(pmutex_t *mutex) {
00188     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga8">rt_sem_wait</a>(mutex) &lt; SEM_TIMOUT ? 0 : -EINVAL;
00189 }
00190 
00191 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_trylock(pmutex_t *mutex) {
00192     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga9">rt_sem_wait_if</a>(mutex) &gt; 0 ? 0 : -EBUSY;
00193 }
00194 
00195 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_timedlock(pmutex_t *sem, <span class="keyword">struct</span> timespec *abstime) {
00196     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga10">rt_sem_wait_until</a>(sem, timespec2count(abstime)) &lt; SEM_TIMOUT ? 0 : -1;
00197 }
00198 
00199 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_pmutex_unlock(pmutex_t *mutex) {
00200     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga6">rt_sem_signal</a>(mutex);
00201 }
00202 
00203 <span class="preprocessor">#define rt_mutex_init(mtx)             rt_typed_sem_init(mtx, 1, RES_SEM)</span>
00204 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_delete(mtx)           rt_sem_delete(mtx)</span>
00205 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_destroy(mtx)          rt_sem_delete(mtx)</span>
00206 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_trylock(mtx)          rt_sem_wait_if(mtx)</span>
00207 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_lock(mtx)             rt_sem_wait(mtx)</span>
00208 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_timedlock(mtx, time)  rt_sem_wait_until(mtx, time)</span>
00209 <span class="preprocessor"></span><span class="preprocessor">#define rt_mutex_unlock(mtx)           rt_sem_signal(mtx)</span>
00210 <span class="preprocessor"></span>
00211 <span class="preprocessor">#define rt_cond_init(cnd)                  rt_typed_sem_init(cnd, 0, BIN_SEM | PRIO_Q)</span>
00212 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_delete(cnd)                rt_sem_delete(cnd)</span>
00213 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_destroy(cnd)               rt_sem_delete(cnd)</span>
00214 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_broadcast(cnd)             rt_sem_broadcast(cnd)</span>
00215 <span class="preprocessor"></span>
00216 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_cond_timedwait(CND *cnd, SEM *mtx, RTIME time) {
00217     <span class="keywordflow">return</span> <a class="code" href="group__sem.html#ga16">rt_cond_wait_until</a>(cnd, mtx, time) &lt; SEM_TIMOUT ? 0 : -1;
00218 }
00219 
00220 <span class="preprocessor">#ifdef __cplusplus</span>
00221 <span class="preprocessor"></span>}
00222 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00223 
00224 <span class="preprocessor">#else </span><span class="comment">/* !__KERNEL__ */</span>
00225 
00226 <span class="preprocessor">#include &lt;<a class="code" href="rtai__lxrt_8h.html">rtai_lxrt.h</a>&gt;</span>
00227 
00228 <span class="preprocessor">#ifdef __cplusplus</span>
00229 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00230 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00231 
00232 RTAI_PROTO(SEM *, rt_typed_sem_init,(<span class="keywordtype">int</span> name, <span class="keywordtype">int</span> value, <span class="keywordtype">int</span> type))
00233 {
00234         <span class="keyword">struct </span>{ <span class="keywordtype">int</span> name, value, type; } arg = { name, value, type };
00235         <span class="keywordflow">return</span> (SEM *)rtai_lxrt(BIDX, SIZARG, LXRT_SEM_INIT, &amp;arg).v[LOW];
00236 }
00237 
<a name="l00255"></a><a class="code" href="group__lxrt.html#ga382">00255</a> <span class="preprocessor">#define rt_sem_init(name, value) rt_typed_sem_init(name, value, CNT_SEM)</span>
00256 <span class="preprocessor"></span>
00257 <span class="preprocessor">#define rt_named_sem_init(sem_name, value) \</span>
00258 <span class="preprocessor">        rt_typed_named_sem_init(sem_name, value, CNT_SEM)</span>
00259 <span class="preprocessor"></span>
00260 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_delete,(SEM *sem))
00261 {
00262         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00263         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, LXRT_SEM_DELETE, &amp;arg).i[LOW];
00264 }
00265 
00266 RTAI_PROTO(SEM *, rt_typed_named_sem_init,(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> value, <span class="keywordtype">int</span> type))
00267 {
00268         <span class="keyword">struct </span>{ <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> name; <span class="keywordtype">int</span> value, type; } arg = { <a class="code" href="rtai__nam2num_8h.html#a0">nam2num</a>(name), value, type };
00269         <span class="keywordflow">return</span> (SEM *)rtai_lxrt(BIDX, SIZARG, NAMED_SEM_INIT, &amp;arg).v[LOW];
00270 }
00271 
00272 RTAI_PROTO(<span class="keywordtype">int</span>, rt_named_sem_delete,(SEM *sem))
00273 {
00274         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00275         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, NAMED_SEM_DELETE, &amp;arg).i[LOW];
00276 }
00277 
00278 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_signal,(SEM *sem))
00279 {
00280         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00281         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_SIGNAL, &amp;arg).i[LOW];
00282 }
00283 
00284 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_broadcast,(SEM *sem))
00285 {
00286         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00287         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_BROADCAST, &amp;arg).i[LOW];
00288 }
00289 
00290 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_wait,(SEM *sem))
00291 {
00292         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00293         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_WAIT, &amp;arg).i[LOW];
00294 }
00295 
00296 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_wait_if,(SEM *sem))
00297 {
00298         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00299         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_WAIT_IF, &amp;arg).i[LOW];
00300 }
00301 
00302 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_wait_until,(SEM *sem, RTIME time))
00303 {
00304         <span class="keyword">struct </span>{ SEM *sem; RTIME time; } arg = { sem, time };
00305         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_WAIT_UNTIL, &amp;arg).i[LOW];
00306 }
00307 
00308 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_wait_timed,(SEM *sem, RTIME delay))
00309 {
00310         <span class="keyword">struct </span>{ SEM *sem; RTIME delay; } arg = { sem, delay };
00311         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_WAIT_TIMED, &amp;arg).i[LOW];
00312 }
00313 
00314 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_wait_barrier,(SEM *sem))
00315 {
00316         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00317         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_WAIT_BARRIER, &amp;arg).i[LOW];
00318 }
00319 
00320 RTAI_PROTO(<span class="keywordtype">int</span>, rt_sem_count,(SEM *sem))
00321 {
00322         <span class="keyword">struct </span>{ SEM *sem; } arg = { sem };
00323         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, SEM_COUNT, &amp;arg).i[LOW];
00324 }
00325 
<a name="l00341"></a><a class="code" href="group__lxrt.html#ga383">00341</a> <span class="preprocessor">#define rt_cond_init(name)                 rt_typed_sem_init(name, 0, BIN_SEM)</span>
00342 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_delete(cnd)                rt_sem_delete(cnd)</span>
00343 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_destroy(cnd)               rt_sem_delete(cnd)</span>
00344 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_broadcast(cnd)             rt_sem_broadcast(cnd)</span>
00345 <span class="preprocessor"></span><span class="preprocessor">#define rt_cond_timedwait(cnd, mtx, time)  rt_cond_wait_until(cnd, mtx, time)</span>
00346 <span class="preprocessor"></span>
00347 RTAI_PROTO(<span class="keywordtype">int</span>, rt_cond_signal,(CND *cnd))
00348 {
00349         <span class="keyword">struct </span>{ CND *cnd; } arg = { cnd };
00350         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, COND_SIGNAL, &amp;arg).i[LOW];
00351 }
00352 
00353 RTAI_PROTO(<span class="keywordtype">int</span>, rt_cond_wait,(CND *cnd, SEM  *mutex))
00354 {
00355         <span class="keyword">struct </span>{ CND *cnd; SEM *mutex; } arg = { cnd, mutex };
00356         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, COND_WAIT, &amp;arg).i[LOW];
00357 }
00358 
00359 RTAI_PROTO(<span class="keywordtype">int</span>, rt_cond_wait_until,(CND *cnd, SEM *mutex, RTIME time))
00360 {
00361         <span class="keyword">struct </span>{ CND *cnd; SEM *mutex; RTIME time; } arg = { cnd, mutex, time };
00362         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, COND_WAIT_UNTIL, &amp;arg).i[LOW];
00363 }
00364 
00365 RTAI_PROTO(<span class="keywordtype">int</span>, rt_cond_wait_timed,(CND *cnd, SEM *mutex, RTIME delay))
00366 {
00367         <span class="keyword">struct </span>{ CND *cnd; SEM *mutex; RTIME delay; } arg = { cnd, mutex, delay };
00368         <span class="keywordflow">return</span> rtai_lxrt(BIDX, SIZARG, COND_WAIT_TIMED, &amp;arg).i[LOW];
00369 }
00370 
00371 <span class="preprocessor">#ifdef __cplusplus</span>
00372 <span class="preprocessor"></span>}
00373 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00374 
00375 <span class="preprocessor">#endif </span><span class="comment">/* __KERNEL__ */</span>
00376 
00377 <span class="preprocessor">#endif </span><span class="comment">/* !_RTAI_SEM_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 18 22:53:52 2005 for RTAI API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
